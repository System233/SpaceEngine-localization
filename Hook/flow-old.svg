<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="831" height="777" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[Created with Raphaël 2.1.2字符处理函数标记处理钩子 (线程不安全)字符值不等于0?字符值属于标记?取出实际字符到ch,x=ch&0xF+X偏移,y=ch>>4+Y偏移(线程不安全)后续坐标转换，指针指向下一个字符x=ch&0xF,y=ch>>4退出函数yesnoyesno]]></source><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Raphaël 2.1.2</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block-obj539" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><marker id="raphael-marker-endblock33-obj540" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block-obj539" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker></defs><rect x="0" y="0" width="111" height="37" r="20" rx="20" ry="20" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="st" transform="matrix(1,0,0,1,177.3828,39.248)"></rect><text x="10" y="18.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="stt" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,177.3828,39.248)" stroke-width="1"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">字符处理函数</tspan></text><rect x="0" y="0" width="200.15625" height="37" r="0" rx="0" ry="0" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="hook" transform="matrix(1,0,0,1,132.8047,165.4961)"></rect><text x="10" y="18.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="hookt" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,132.8047,165.4961)" stroke-width="1"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">标记处理钩子 (线程不安全)</tspan></text><path fill="#ffffff" stroke="#000000" d="M51.251953125,25.6259765625L0,51.251953125L102.50390625,102.50390625L205.0078125,51.251953125L102.50390625,0L0,51.251953125" stroke-width="2" id="cond" class="flowchart" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" transform="matrix(1,0,0,1,130.3789,258.9922)"></path><text x="56.251953125" y="51.251953125" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="condt" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,130.3789,258.9922)" stroke-width="1"><tspan dy="5.501953125" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">字符值不等于0?</tspan></text><path fill="#ffffff" stroke="#000000" d="M53.748046875,26.8740234375L0,53.748046875L107.49609375,107.49609375L214.9921875,53.748046875L107.49609375,0L0,53.748046875" stroke-width="2" id="cmp" class="flowchart" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" transform="matrix(1,0,0,1,125.3867,415.4961)"></path><text x="58.748046875" y="53.748046875" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="cmpt" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,125.3867,415.4961)" stroke-width="1"><tspan dy="5.513671875" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">字符值属于标记?</tspan></text><rect x="0" y="0" width="457.765625" height="37" r="0" rx="0" ry="0" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="calcY" transform="matrix(1,0,0,1,4,612.2402)"></rect><text x="10" y="18.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="calcYt" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,4,612.2402)" stroke-width="1"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">取出实际字符到ch,x=ch&amp;0xF+X偏移,y=ch&gt;&gt;4+Y偏移(线程不安全)</tspan></text><rect x="0" y="0" width="261" height="37" r="0" rx="0" ry="0" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="other" transform="matrix(1,0,0,1,102.3828,738.4883)"></rect><text x="10" y="18.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="othert" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,102.3828,738.4883)" stroke-width="1"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">后续坐标转换，指针指向下一个字符</tspan></text><rect x="0" y="0" width="148.578125" height="37" r="0" rx="0" ry="0" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="calcN" transform="matrix(1,0,0,1,548.9727,450.7441)"></rect><text x="10" y="18.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="calcNt" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,548.9727,450.7441)" stroke-width="1"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">x=ch&amp;0xF,y=ch&gt;&gt;4</tspan></text><rect x="0" y="0" width="82" height="37" r="20" rx="20" ry="20" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="e" transform="matrix(1,0,0,1,747.5508,291.7441)"></rect><text x="10" y="18.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="et" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,747.5508,291.7441)" stroke-width="1"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">退出函数</tspan><tspan dy="18" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></tspan></text><path fill="none" stroke="#000000" d="M232.8828125,76.248046875C232.8828125,76.248046875,232.8828125,146.96314582182094,232.8828125,162.50113143025328" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj540)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#000000" d="M232.8828125,202.49609375C232.8828125,202.49609375,232.8828125,244.31477415189147,232.8828125,255.9946009047635" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj540)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#000000" d="M232.8828125,361.49609375C232.8828125,361.49609375,232.8828125,401.15019369125366,232.8828125,412.49653283460066" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj540)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="237.8828125" y="371.49609375" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" font-size="15px" stroke-width="1"><tspan dy="5.51171875" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M335.38671875,310.244140625C335.38671875,310.244140625,707.3265482620336,310.244140625,744.5568534622128,310.244140625" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj540)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="340.38671875" y="300.244140625" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" font-size="15px" stroke-width="1"><tspan dy="5.509765625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M232.8828125,522.9921875C232.8828125,522.9921875,232.8828125,593.707286446821,232.8828125,609.2452720552533" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj540)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="237.8828125" y="532.9921875" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" font-size="15px" stroke-width="1"><tspan dy="5.5078125" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M340.37890625,469.244140625C340.37890625,469.244140625,520.386455019936,469.244140625,545.9636994984767,469.244140625" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj540)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="345.37890625" y="459.244140625" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" font-size="15px" stroke-width="1"><tspan dy="5.509765625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M232.8828125,649.240234375C232.8828125,649.240234375,232.8828125,719.955333321821,232.8828125,735.4933189302533" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj540)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#000000" d="M363.3828125,756.98828125C363.3828125,756.98828125,388.3828125,756.98828125,388.3828125,756.98828125C388.3828125,756.98828125,388.3828125,473.244140625,388.3828125,473.244140625C388.3828125,473.244140625,396.3828125,469.244140625,388.3828125,465.244140625C388.3828125,465.244140625,388.3828125,314.244140625,388.3828125,314.244140625C388.3828125,314.244140625,396.3828125,310.244140625,388.3828125,306.244140625C388.3828125,306.244140625,388.3828125,233.9921875,388.3828125,233.9921875C388.3828125,233.9921875,232.8828125,233.9921875,232.8828125,233.9921875C232.8828125,233.9921875,232.8828125,249.36563205718994,232.8828125,256.00143527425826" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj540)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#000000" d="M623.26171875,487.744140625C623.26171875,487.744140625,623.26171875,713.48828125,623.26171875,713.48828125C623.26171875,713.48828125,392.3828125,713.48828125,392.3828125,713.48828125C392.3828125,713.48828125,388.3828125,705.48828125,384.3828125,713.48828125C384.3828125,713.48828125,232.8828125,713.48828125,232.8828125,713.48828125C232.8828125,713.48828125,232.8828125,728.8617258071899,232.8828125,735.4975290242583" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj540)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path></svg>